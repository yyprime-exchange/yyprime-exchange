(this["webpackJsonpserum-dex-ui"]=this["webpackJsonpserum-dex-ui"]||[]).push([[0],{247:function(e,t,n){e.exports=n.p+"static/media/knot.25dc79f1.svg"},260:function(e,t,n){e.exports=n(415)},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t){},270:function(e,t){},293:function(e,t){},294:function(e,t){},415:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(39),o=n.n(i),c=(n(265),n(266),n(2)),l=n.n(c),s=n(7),u=n(15),d=n(27);function f(e){return!isNaN(e)&&Math.floor(e)!==e&&e.toString().includes(".")?e.toString().split(".")[1].length||0:!isNaN(e)&&Math.floor(e)!==e&&e.toString().includes("e")?parseInt(e.toString().split("e-")[1]||"0"):0}var m={};function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage.getItem(e)||t,a=Object(r.useState)(e+"\n"+n),i=Object(u.a)(a,2),o=i[1];Object(r.useEffect)((function(){return m[e]||(m[e]=[]),m[e].push(o),function(){m[e]=m[e].filter((function(e){return e!==o})),0===m[e].length&&delete m[e]}}),[e]);var c=Object(r.useCallback)((function(t){var r;n!==t&&(null===t?localStorage.removeItem(e):localStorage.setItem(e,t),null===(r=m[e])||void 0===r||r.forEach((function(n){return n(e+"\n"+t)})))}),[n,e]);return[n,c]}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=h(e,JSON.stringify(t)),a=Object(u.a)(n,2),i=a[0],o=a[1];return[Object(r.useMemo)((function(){return i&&JSON.parse(i)}),[i]),function(e){return o(JSON.stringify(e))}]}function p(e,t,n){if(!n&&Object.keys(e).length!==Object.keys(t).length)return!1;n=n||Object.keys(e);var r,a=Object(d.a)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(e[i]!==t[i])return!1}}catch(o){a.e(o)}finally{a.f()}return!0}var b=n(17),g=n(29),k=n(12),E=n(11),O=n(86),y=n.n(O),j=new Date,x=new Map,w=Object(k.a)((function e(t,n,r,a,i,o){Object(E.a)(this,e),this.cacheKey=void 0,this.fn=void 0,this.refreshInterval=void 0,this.refreshIntervalOnError=void 0,this.callback=void 0,this.cacheNullValues=!0,this.cacheKey=t,this.fn=n,this.refreshInterval=r,this.refreshIntervalOnError=a,this.callback=i,this.cacheNullValues=o})),S=function(){function e(t,n,r){var a=this;Object(E.a)(this,e),this.cacheKey=void 0,this.fn=void 0,this.timeoutId=void 0,this.listeners=void 0,this.errors=void 0,this.cacheNullValues=!0,this.refresh=Object(s.a)(l.a.mark((function e(){var t,n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.timeoutId&&(clearTimeout(a.timeoutId),a.timeoutId=null),!a.stopped){e.next=3;break}return e.abrupt("return");case 3:return t=!1,e.prev=4,e.next=7,a.fn();case 7:if(n=e.sent,a.cacheNullValues||null!==n){e.next=14;break}return console.log("Not caching null value for ".concat(a.cacheKey)),a.errors=0,e.abrupt("return",n);case 14:return x.set(a.cacheKey,n),a.errors=0,a.notifyListeners(),e.abrupt("return",n);case 18:e.next=25;break;case 20:e.prev=20,e.t0=e.catch(4),++a.errors,console.warn(e.t0),t=!0;case 25:return e.prev=25,a.timeoutId||a.stopped||(r=a.refreshInterval,t&&a.refreshIntervalOnError&&a.refreshIntervalOnError>0&&(r=a.refreshIntervalOnError),a.errors>0&&(r=Math.min(1e3*Math.pow(2,a.errors-1),6e4)),(i=+new Date-+j)<5e3&&(r+=5e3-i/2),"hidden"===document.visibilityState?r=6e4:document.hasFocus()||(r*=1.5),r*=.8+.4*Math.random(),a.timeoutId=setTimeout(a.refresh,r)),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[4,20,25,28]])}))),this.cacheKey=t,this.fn=n,this.timeoutId=null,this.listeners=new Set,this.errors=0,this.cacheNullValues=r}return Object(k.a)(e,[{key:"refreshInterval",get:function(){return Math.min.apply(Math,Object(g.a)(Object(g.a)(this.listeners).map((function(e){return e.refreshInterval}))))}},{key:"refreshIntervalOnError",get:function(){var e=Object(g.a)(this.listeners).map((function(e){return e.refreshIntervalOnError})).filter((function(e){return null!==e}));return 0===e.length?null:Math.min.apply(Math,Object(g.a)(e))}},{key:"stopped",get:function(){return 0===this.listeners.size}},{key:"addListener",value:function(e){var t=this.refreshInterval;this.listeners.add(e),this.refreshInterval<t&&this.refresh()}},{key:"removeListener",value:function(e){y()(this.listeners.delete(e)),this.stopped&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}},{key:"notifyListeners",value:function(){this.listeners.forEach((function(e){return e.callback()}))}}]),e}(),C=new(function(){function e(){Object(E.a)(this,e),this.loops=new Map}return Object(k.a)(e,[{key:"addListener",value:function(e){this.loops.has(e.cacheKey)||this.loops.set(e.cacheKey,new S(e.cacheKey,e.fn,e.cacheNullValues)),this.loops.get(e.cacheKey).addListener(e)}},{key:"removeListener",value:function(e){var t=this.loops.get(e.cacheKey);t.removeListener(e),t.stopped&&(this.loops.delete(e.cacheKey),x.delete(e.cacheKey))}},{key:"refresh",value:function(e){this.loops.has(e)&&this.loops.get(e).refresh()}},{key:"refreshAll",value:function(){return Promise.all(Object(g.a)(this.loops.values()).map((function(e){return e.refresh()})))}}]),e}());function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.refreshInterval,i=void 0===a?6e4:a,o=n.refreshIntervalOnError,c=void 0===o?null:o,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=Object(r.useReducer)((function(e){return e+1}),0),d=Object(u.a)(s,2),f=d[1];if(Object(r.useEffect)((function(){if(!t)return function(){};var n=new w(t,e,i,c,f,l);return C.addListener(n),function(){return C.removeListener(n)}}),[t,i]),!t)return[null,!1];var m=x.has(t),h=m?x.get(t):void 0;return[h,m]}var I=n(127),M=[{name:"mainnet-beta",endpoint:"https://solana-api.projectserum.com",custom:!1},{name:"localnet",endpoint:"http://127.0.0.1:8899",custom:!1}],N=new Map,A=a.a.createContext(null);function L(e){var t=e.children,n=v("connectionEndpts",M[0].endpoint),i=Object(u.a)(n,2),o=i[0],c=i[1],l=v("customConnectionEndpoints",[]),s=Object(u.a)(l,2),d=s[0],f=s[1],m=M.concat(d),h=Object(r.useMemo)((function(){return new b.Connection(o,"recent")}),[o]),p=Object(r.useMemo)((function(){return new b.Connection(o,"recent")}),[o]);return Object(r.useEffect)((function(){var e=h.onAccountChange((new b.Account).publicKey,(function(){}));return function(){h.removeAccountChangeListener(e)}}),[h]),Object(r.useEffect)((function(){var e=h.onSlotChange((function(){return null}));return function(){h.removeSlotChangeListener(e)}}),[h]),Object(r.useEffect)((function(){var e=p.onAccountChange((new b.Account).publicKey,(function(){}));return function(){p.removeAccountChangeListener(e)}}),[p]),Object(r.useEffect)((function(){var e=p.onSlotChange((function(){return null}));return function(){p.removeSlotChangeListener(e)}}),[p]),a.a.createElement(A.Provider,{value:{endpoint:o,setEndpoint:c,connection:h,sendConnection:p,availableEndpoints:m,setCustomEndpoints:f}},t)}function P(){var e=Object(r.useContext)(A);if(!e)throw new Error("Missing connection context");return e.connection}function R(e){var t=P(),n=Object(I.a)(t,null===e||void 0===e?void 0:e.toBase58()),a=z(Object(s.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e?t.getAccountInfo(e):null);case 1:case"end":return n.stop()}}),n)}))),n,{refreshInterval:6e4}),i=Object(u.a)(a,2),o=i[0],c=i[1];Object(r.useEffect)((function(){if(e){if(N.has(n)){++N.get(n).count}else{var r=null,a=t.onAccountChange(e,(function(e){r&&r.data.equals(e.data)&&r.lamports===e.lamports||(r=e,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.initializeOnly,a=void 0!==r&&r;if(!a||!x.has(e)){x.set(e,t);var i=C.loops.get(e);i&&i.notifyListeners()}}(n,e))}));N.set(n,{count:1,subscriptionId:a})}return function(){var e=N.get(n);e.count-1<=0?(t.removeAccountChangeListener(e.subscriptionId),N.delete(n)):--e.count}}}),[n]);var d=Object(r.useRef)(null);return o&&d.current&&d.current.data.equals(o.data)&&d.current.lamports===o.lamports||(d.current=o),[d.current,c]}function T(e){var t=R(e),n=Object(u.a)(t,1)[0];return n&&n.data}var K,F=n(40),B=n(41),q=Object(B.a)(K||(K=Object(F.a)(["\nhtml,body{\n  background: #11161D;\n}\ninput[type=number]::-webkit-inner-spin-button {\n  opacity: 0;\n}\ninput[type=number]:hover::-webkit-inner-spin-button,\ninput[type=number]:focus::-webkit-inner-spin-button {\n  opacity: 0.25;\n}\n/* width */\n::-webkit-scrollbar {\n  width: 15px;\n}\n/* Track */\n::-webkit-scrollbar-track {\n  background: #2d313c;\n}\n/* Handle */\n::-webkit-scrollbar-thumb {\n  background: #5b5f67;\n}\n/* Handle on hover */\n::-webkit-scrollbar-thumb:hover {\n  background: #5b5f67;\n}\n.ant-slider-track, .ant-slider:hover .ant-slider-track {\n  background-color: #2abdd2;\n  opacity: 0.75;\n}\n.ant-slider-track,\n.ant-slider ant-slider-track:hover {\n  background-color: #2abdd2;\n  opacity: 0.75;\n}\n.ant-slider-dot-active,\n.ant-slider-handle,\n.ant-slider-handle-click-focused,\n.ant-slider:hover .ant-slider-handle:not(.ant-tooltip-open)  {\n  border: 2px solid #2abdd2; \n}\n.ant-table-tbody > tr.ant-table-row:hover > td {\n  background: #273043;\n}\n.ant-table-tbody > tr > td {\n  border-bottom: 8px solid #1A2029;\n}\n.ant-table-container table > thead > tr:first-child th {\n  border-bottom: none;\n}\n.ant-divider-horizontal.ant-divider-with-text::before, .ant-divider-horizontal.ant-divider-with-text::after {\n  border-top: 1px solid #434a59 !important;\n}\n.ant-layout {\n    background: #11161D\n  }\n  .ant-table {\n    background: #212734;\n  }\n  .ant-table-thead > tr > th {\n    background: #1A2029;\n  }\n.ant-select-item-option-content {\n  img {\n    margin-right: 4px;\n  }\n}\n.ant-modal-content {\n  background-color: #212734;\n}\n\n@-webkit-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n@-moz-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n@-keyframes highlight {\n  from { background-color: #2abdd2;}\n  to {background-color: #1A2029;}\n}\n.flash {\n  -moz-animation: highlight 0.5s ease 0s 1 alternate ;\n  -webkit-animation: highlight 0.5s ease 0s 1 alternate;\n  animation: highlight 0.5s ease 0s 1 alternate;\n}"]))),D=n(419),H=n(61),U=n(62),J=n(420).a.Title,V=function(e){Object(H.a)(n,e);var t=Object(U.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(k.a)(n,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(J,{level:2},"Something went wrong."),a.a.createElement(J,{level:4},"Please try again later."))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(r.Component),W=n(93),_=n(36),Y=n(418),G=n(258),X=n(421),$=n(416),Q=n(417),Z=n(424),ee=n(422),te=n(247),ne=n.n(te),re=n(254),ae=n(133),ie=["external"],oe=["to","children"];function ce(e){var t=e.external,n=void 0!==t&&t,r=Object(ae.a)(e,ie),i=r.to,o=r.children,c=Object(ae.a)(r,oe);return n?a.a.createElement("a",Object.assign({href:i,target:"_blank",rel:"noopener noreferrer"},c),o):a.a.createElement(W.b,Object.assign({to:i},c),o)}function le(e){var t=e.message,n=e.description,r=e.txid,i=e.type,o=void 0===i?"info":i,c=e.placement,l=void 0===c?"bottomLeft":c;r&&(n=a.a.createElement(ce,{external:!0,to:"https://solscan.io/tx/"+r,style:{color:"#0000ff"}},"View transaction ",r.slice(0,8),"...",r.slice(r.length-8))),re.a[o]({message:a.a.createElement("span",{style:{color:"black"}},t),description:a.a.createElement("span",{style:{color:"black",opacity:.5}},n),placement:l,style:{backgroundColor:"white"}})}var se=n(16),ue=n(90),de=function(){function e(){Object(E.a)(this,e)}return Object(k.a)(e,null,[{key:"get",value:function(){var e=Object(s.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this.URL+t);case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.success?r.data:null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("Error fetching from Bonfida API ".concat(t,": ").concat(e.t0));case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRecentTrades",value:function(){var t=Object(s.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get("trades/address/".concat(n)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}();de.URL="https://serum-api.bonfida.com/";var fe=ue.MARKETS;var me,he,ve=a.a.createContext(null),pe=fe.find((function(e){var t=e.name,n=e.deprecated;return"SOL/USDC"===t&&!n}));function be(e,t){var n,r;if(!e)return{};var a=we(t).find((function(t){return t.address.equals(e.address)})),i=(null===e||void 0===e?void 0:e.baseMintAddress)&&(null===(n=ue.TOKEN_MINTS.find((function(t){return t.address.equals(e.baseMintAddress)})))||void 0===n?void 0:n.name)||(null===a||void 0===a?void 0:a.baseLabel)&&"".concat(null===a||void 0===a?void 0:a.baseLabel,"*")||"UNKNOWN",o=(null===e||void 0===e?void 0:e.quoteMintAddress)&&(null===(r=ue.TOKEN_MINTS.find((function(t){return t.address.equals(e.quoteMintAddress)})))||void 0===r?void 0:r.name)||(null===a||void 0===a?void 0:a.quoteLabel)&&"".concat(null===a||void 0===a?void 0:a.quoteLabel,"*")||"UNKNOWN";return Object(se.a)(Object(se.a)({},a),{},{marketName:null===a||void 0===a?void 0:a.name,baseCurrency:i,quoteCurrency:o,marketInfo:a})}function ge(e){var t=e.marketAddress,n=e.setMarketAddress,i=e.children,o=function(){var e=v("customMarkets",[]),t=Object(u.a)(e,2);return{customMarkets:t[0],setCustomMarkets:t[1]}}(),c=o.customMarkets,l=o.setCustomMarkets,s=t&&new b.PublicKey(t),d=P(),f=we(c),m=s&&f.find((function(e){return e.address.equals(s)}));Object(r.useEffect)((function(){m&&m.deprecated&&(console.log("Switching markets from deprecated",m),pe&&n(pe.address.toBase58()))}),[]);var h=Object(r.useState)(),p=Object(u.a)(h,2),g=p[0],k=p[1];return Object(r.useEffect)((function(){var e;g&&m&&(null===(e=g._decoded.ownAddress)||void 0===e?void 0:e.equals(null===m||void 0===m?void 0:m.address))||(k(null),m&&m.address?ue.Market.load(d,m.address,{},m.programId).then(k).catch((function(e){return le({message:"Error loading market",description:e.message,type:"error"})})):le({message:"Error loading market",description:"Please select a market from the dropdown",type:"error"}))}),[d,m]),a.a.createElement(ve.Provider,{value:Object(se.a)(Object(se.a)({market:g},be(g,c)),{},{setMarketAddress:n,customMarkets:c,setCustomMarkets:l})},i)}function ke(e){if(!e){var t=localStorage.getItem("marketAddress");t&&(e=JSON.parse(t)),e=e||(null===pe||void 0===pe?void 0:pe.address.toBase58())||""}return"/market/".concat(e)}function Ee(){var e=Object(r.useContext)(ve);if(!e)throw new Error("Missing market context");return e}function Oe(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],i=xe(),o=Object(u.a)(i,1)[0],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=ye(e);if(!t)return null;return t.filter((function(e){return e.eventFlags.maker})).map((function(e){return Object(se.a)(Object(se.a)({},e),{},{side:"buy"===e.side?"sell":"buy"})}))}();return Object(r.useEffect)((function(){var e,t,n=(null===o||void 0===o||null===(e=o.bids)||void 0===e?void 0:e.length)>0&&Number(o.bids[0][0]),r=(null===o||void 0===o||null===(t=o.asks)||void 0===t?void 0:t.length)>0&&Number(o.asks[0][0]),i=c&&c.length>0&&c[0].price,l=n&&r?i?[n,r,i].sort((function(e,t){return e-t}))[1]:(n+r)/2:null;a(l)}),[o,c]),n}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=Ee(),n=t.market,r=P();function a(){return i.apply(this,arguments)}function i(){return(i=Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&r){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,n.loadFills(r,e);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var o=z(a,Object(I.a)("getUnfilteredTrades",n,r),{refreshInterval:5e3}),c=Object(u.a)(o,1),d=c[0];return d}function je(){var e=Ee().market,t=T(e&&e._decoded.bids),n=T(e&&e._decoded.asks);return{bidOrderbook:e&&t?ue.Orderbook.decode(e,t):null,askOrderbook:e&&n?ue.Orderbook.decode(e,n):null}}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=je(),n=t.bidOrderbook,r=t.askOrderbook,a=Ee(),i=a.market,o=n&&i?n.getL2(e).map((function(e){var t=Object(u.a)(e,2);return[t[0],t[1]]})):[],c=r&&i?r.getL2(e).map((function(e){var t=Object(u.a)(e,2);return[t[0],t[1]]})):[];return[{bids:o,asks:c},!!o||!!c]}function we(e){var t=e.map((function(e){return Object(se.a)(Object(se.a)({},e),{},{address:new b.PublicKey(e.address),programId:new b.PublicKey(e.programId),deprecated:!1})}));return[].concat(Object(g.a)(t),Object(g.a)(fe))}var Se=B.c.div(me||(me=Object(F.a)(["\n  background-color: #0d1017;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  padding: 0px 30px;\n  flex-wrap: wrap;\n"]))),Ce=B.c.div(he||(he=Object(F.a)(["\n  display: flex;\n  align-items: center;\n  color: #2abdd2;\n  font-weight: bold;\n  cursor: pointer;\n  img {\n    height: 30px;\n    margin-right: 8px;\n  }\n"])));function ze(){var e=function(){var e=Object(r.useContext)(A);if(!e)throw new Error("Missing connection context");return{endpoint:e.endpoint,endpointInfo:e.availableEndpoints.find((function(t){return t.endpoint===e.endpoint})),setEndpoint:e.setEndpoint,availableEndpoints:e.availableEndpoints,setCustomEndpoints:e.setCustomEndpoints}}(),t=e.endpoint,n=e.endpointInfo,i=e.setEndpoint,o=e.availableEndpoints,c=(e.setCustomEndpoints,Object(r.useState)(!1)),l=Object(u.a)(c,2),s=(l[0],l[1],Object(r.useState)(!1)),d=Object(u.a)(s,2),f=(d[0],d[1],Object(_.h)()),m=n&&n.custom;Object(r.useEffect)((function(){var e=function(){m&&i(M[0].endpoint)};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}),[m,i]);var h=f.pathname.startsWith("/market/")?f.pathname:ke();return a.a.createElement(a.a.Fragment,null,a.a.createElement(Se,null,a.a.createElement(Ce,null,a.a.createElement("img",{src:ne.a,alt:""}),"YY'X"),a.a.createElement(X.a,{mode:"horizontal",selectedKeys:[f.pathname],style:{borderBottom:"none",backgroundColor:"transparent",display:"flex",alignItems:"flex-end",flex:1}},a.a.createElement(X.a.Item,{key:h,style:{margin:"0 10px 0 20px"}},"SERUM")),a.a.createElement("div",null,a.a.createElement($.a,{align:"middle",style:{paddingLeft:5,paddingRight:5},gutter:16},a.a.createElement(Q.a,null,a.a.createElement(Z.a,{content:t,placement:"bottomRight",title:"URL",trigger:"hover"},a.a.createElement(G.a,{style:{color:"#2abdd2"}}))),a.a.createElement(Q.a,null,a.a.createElement(ee.a,{onSelect:i,value:t,style:{marginRight:8,width:"150px"}},o.map((function(e){var t=e.name,n=e.endpoint;return a.a.createElement(ee.a.Option,{value:n,key:n},t)}))))))))}var Ie,Me=n(238),Ne="https://twitter.com/yyprimeexchange",Ae="https://github.com/yyprime-exchange",Le=Y.a.Footer,Pe=Me.a.useBreakpoint,Re=[{description:"Twitter",link:Ne},{description:"GitHub",link:Ae}],Te=function(){var e=!Pe().lg;return a.a.createElement(Le,{style:{height:"55px",paddingBottom:10,paddingTop:10}},a.a.createElement($.a,{align:"middle",gutter:[16,4]},!e&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Q.a,{flex:"auto"}),Re.map((function(e,t){return a.a.createElement(Q.a,{key:t+""},a.a.createElement(ce,{external:!0,to:e.link},e.description))}))),a.a.createElement(Q.a,{flex:"auto"})))},Ke=n(251),Fe=n.n(Ke),Be=Y.a.Header,qe=Y.a.Content;function De(e){var t=e.children,n=Object(_.h)().search;Fe.a.parse(n);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Y.a,{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},a.a.createElement(Be,{style:{padding:0,minHeight:64,height:"unset"}},a.a.createElement(ze,null)),a.a.createElement(qe,{style:{flex:1}},t),a.a.createElement(Te,null)))}var He=B.c.div(Ie||(Ie=Object(F.a)(["\n  margin: 5px;\n  padding: 20px;\n  background-color: #1a2029;\n"])));function Ue(e){var t=e.style,n=void 0===t?void 0:t,r=e.children,i=e.stretchVertical,o=void 0!==i&&i;return a.a.createElement(He,{style:Object(se.a)({height:o?"calc(100% - 10px)":void 0},n)},r)}var Je,Ve,We,_e,Ye,Ge,Xe,$e=n(425),Qe=n(426),Ze=B.c.div(Je||(Je=Object(F.a)(["\n  color: rgba(255, 255, 255, 1);\n"]))),et=Object(B.c)($.a)(Ve||(Ve=Object(F.a)(["\n  padding: 20px 0 14px;\n  color: #434a59;\n"]))),tt=Object(B.c)($.a)(We||(We=Object(F.a)(["\n  padding: 20px 0 14px;\n  font-weight: 700;\n"]))),nt=B.c.div(_e||(_e=Object(F.a)(["\n  text-align: right;\n  float: right;\n  height: 100%;\n  ","\n  ","\n"])),(function(e){return e["data-width"]&&Object(B.b)(Ye||(Ye=Object(F.a)(["\n      width: ",";\n    "])),e["data-width"])}),(function(e){return e["data-bgcolor"]&&Object(B.b)(Ge||(Ge=Object(F.a)(["\n      background-color: ",";\n    "])),e["data-bgcolor"])})),rt=B.c.div(Xe||(Xe=Object(F.a)(["\n  position: absolute;\n  right: 5px;\n  color: white;\n"])));function at(e){var t=e.smallScreen,n=e.depth,i=void 0===n?7:n,o=e.onPrice,c=e.onSize,l=Oe(),s=xe(),d=Object(u.a)(s,1)[0],f=Ee(),m=f.baseCurrency,h=f.quoteCurrency,v=Object(r.useRef)(null),p=Object(r.useRef)(null),b=Object(r.useState)(null),g=Object(u.a)(b,2),k=g[0],E=g[1];function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.slice(0,i).reduce((function(e,n,r){var a,i=Object(u.a)(n,2),o=i[0],c=i[1],l=((null===(a=e[r-1])||void 0===a?void 0:a.cumulativeSize)||0)+c;return e.push({price:o,size:c,cumulativeSize:l,sizePercent:Math.round(l/(t||1)*100)}),e}),[]);return n&&(r=r.reverse()),r}return function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current&&n.current()}),t);return function(){clearInterval(e)}}}),[t])}((function(){if(!v.current||JSON.stringify(v.current)!==JSON.stringify(p.current)){var e=(null===d||void 0===d?void 0:d.bids)||[],t=(null===d||void 0===d?void 0:d.asks)||[],n=function(e,t,n){var r=Object(u.a)(t,2)[1];return n<i?e+r:e},r=e.reduce(n,0)+t.reduce(n,0),a=O(e,r,!1),o=O(t,r,!0);v.current={bids:null===d||void 0===d?void 0:d.bids,asks:null===d||void 0===d?void 0:d.asks},E({bids:a,asks:o})}}),250),Object(r.useEffect)((function(){p.current={bids:null===d||void 0===d?void 0:d.bids,asks:null===d||void 0===d?void 0:d.asks}}),[d]),a.a.createElement(Ue,{style:t?{flex:1}:{height:"500px",overflow:"hidden"}},a.a.createElement(Ze,null,"Serum Orderbook"),a.a.createElement(et,null,a.a.createElement(Q.a,{span:12,style:{textAlign:"left"}},"Size (",m,")"),a.a.createElement(Q.a,{span:12,style:{textAlign:"right"}},"Price (",h,")")),null===k||void 0===k?void 0:k.asks.map((function(e){var t=e.price,n=e.size,r=e.sizePercent;return a.a.createElement(ct,{key:t+"",price:t,size:n,side:"sell",sizePercent:r,onPriceClick:function(){return o(t)},onSizeClick:function(){return c(n)}})})),a.a.createElement(lt,{markPrice:l}),null===k||void 0===k?void 0:k.bids.map((function(e){var t=e.price,n=e.size,r=e.sizePercent;return a.a.createElement(ct,{key:t+"",price:t,size:n,side:"buy",sizePercent:r,onPriceClick:function(){return o(t)},onSizeClick:function(){return c(n)}})})))}var it,ot,ct=a.a.memo((function(e){var t=e.side,n=e.price,i=e.size,o=e.sizePercent,c=e.onSizeClick,l=e.onPriceClick,s=Object(r.useRef)(),u=Ee().market;Object(r.useEffect)((function(){var e,t;!(null===(e=s.current)||void 0===e?void 0:e.classList.contains("flash"))&&(null===(t=s.current)||void 0===t||t.classList.add("flash"));var n=setTimeout((function(){var e,t;return(null===(e=s.current)||void 0===e?void 0:e.classList.contains("flash"))&&(null===(t=s.current)||void 0===t?void 0:t.classList.remove("flash"))}),250);return function(){return clearTimeout(n)}}),[n,i]);var d=(null===u||void 0===u?void 0:u.minOrderSize)&&!isNaN(i)?Number(i).toFixed(f(u.minOrderSize)+1):i,m=(null===u||void 0===u?void 0:u.tickSize)&&!isNaN(n)?Number(n).toFixed(f(u.tickSize)+1):n;return a.a.createElement($.a,{ref:s,style:{marginBottom:1},onClick:c},a.a.createElement(Q.a,{span:12,style:{textAlign:"left"}},d),a.a.createElement(Q.a,{span:12,style:{textAlign:"right"}},a.a.createElement(nt,{"data-width":o+"%","data-bgcolor":"buy"===t?"rgba(65, 199, 122, 0.6)":"rgba(242, 60, 105, 0.6)"}),a.a.createElement(rt,{onClick:l},m)))}),(function(e,t){return p(e,t,["price","size","sizePercent"])})),lt=a.a.memo((function(e){var t=e.markPrice,n=Ee().market,i=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}(t),o=t>i?"#41C77A":t<i?"#F23B69":"white",c=t&&(null===n||void 0===n?void 0:n.tickSize)&&t.toFixed(f(n.tickSize));return a.a.createElement(tt,{justify:"center"},a.a.createElement(Q.a,{style:{color:o}},t>i&&a.a.createElement($e.a,{style:{marginRight:5}}),t<i&&a.a.createElement(Qe.a,{style:{marginRight:5}}),c||"----"))}),(function(e,t){return p(e,t,["markPrice"])})),st=B.c.div(it||(it=Object(F.a)(["\n  color: rgba(255, 255, 255, 1);\n"]))),ut=Object(B.c)($.a)(ot||(ot=Object(F.a)(["\n  padding: 20px 0 14px;\n  color: #434a59;\n"])));function dt(e){var t=e.smallScreen,n=Ee(),r=n.baseCurrency,i=n.quoteCurrency,o=n.market,c=function(){var e=Ee().market,t=null===e||void 0===e?void 0:e.address.toBase58();function n(){return(n=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,de.getRecentTrades(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return z((function(){return n.apply(this,arguments)}),Object(I.a)("getBonfidaTrades",t),{refreshInterval:5e3},!1)}(),d=Object(u.a)(c,2),m=d[0],h=d[1];return a.a.createElement(Ue,{style:t?{flex:1}:{marginTop:"10px",minHeight:"270px",maxHeight:"calc(100vh - 700px)"}},a.a.createElement(st,null,"Bonfida Trades"),a.a.createElement(ut,null,a.a.createElement(Q.a,{span:8},"Price (",i,") "),a.a.createElement(Q.a,{span:8,style:{textAlign:"right"}},"Size (",r,")"),a.a.createElement(Q.a,{span:8,style:{textAlign:"right"}},"Time")),!!m&&h&&a.a.createElement("div",{style:{marginRight:"-20px",paddingRight:"5px",overflowY:"scroll",maxHeight:t?"calc(100% - 75px)":"calc(100vh - 800px)"}},m.map((function(e,t){return a.a.createElement($.a,{key:t,style:{marginBottom:4}},a.a.createElement(Q.a,{span:8,style:{color:"buy"===e.side?"#41C77A":"#F23B69"}},(null===o||void 0===o?void 0:o.tickSize)&&!isNaN(e.price)?Number(e.price).toFixed(f(o.tickSize)):e.price),a.a.createElement(Q.a,{span:8,style:{textAlign:"right"}},(null===o||void 0===o?void 0:o.minOrderSize)&&!isNaN(e.size)?Number(e.size).toFixed(f(o.minOrderSize)):e.size),a.a.createElement(Q.a,{span:8,style:{textAlign:"right",color:"#434a59"}},e.time&&new Date(e.time).toLocaleTimeString()))}))))}var ft=n(423),mt=n(427);function ht(e){var t=e.title,n=e.address,r=e.shorten,i=void 0!==r&&r;return a.a.createElement("div",null,t&&a.a.createElement("p",{style:{color:"white"}},t),a.a.createElement(ft.a,{type:"link",icon:a.a.createElement(mt.a,null),href:"https://solscan.io/address/"+n,target:"_blank",rel:"noopener noreferrer",style:{cursor:"pointer"}},i?"".concat(n.slice(0,4),"...").concat(n.slice(-4)):n))}var vt,pt=n(428),bt=n(207),gt=ee.a.Option,kt=ee.a.OptGroup,Et=B.c.div(vt||(vt=Object(F.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n  .borderNone .ant-select-selector {\n    border: none !important;\n  }\n"])));function Ot(){var e=Object(_.i)().marketAddress;Object(r.useEffect)((function(){e&&localStorage.setItem("marketAddress",JSON.stringify(e))}),[e]);var t=Object(_.g)();return a.a.createElement(ge,{marketAddress:e,setMarketAddress:function(e){t.push(ke(e))}},a.a.createElement(yt,null))}function yt(){var e=Ee(),t=e.market,n=e.marketName,i=e.customMarkets,o=(e.setMarketAddress,fe.filter((function(e){var t=e.name;return!e.deprecated&&!"[]".includes(t)}))),c=Object(r.useState)({height:window.innerHeight,width:window.innerWidth}),l=Object(u.a)(c,2),s=l[0],d=l[1];Object(r.useEffect)((function(){document.title=n?"".concat(n," \u2014 Serum"):"Serum"}),[n]);var f=Object(r.useRef)();Object(r.useEffect)((function(){var e=function(){d({height:window.innerHeight,width:window.innerWidth})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var m=null===s||void 0===s?void 0:s.width,h={onChangeOrderRef:function(e){return f.current=e},onPrice:Object(r.useCallback)((function(e){return f.current&&f.current({price:e})}),[]),onSize:Object(r.useCallback)((function(e){return f.current&&f.current({size:e})}),[])},v=m<1e3?a.a.createElement(St,h):m<1450?a.a.createElement(wt,h):a.a.createElement(xt,h);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et,null,a.a.createElement($.a,{align:"middle",style:{paddingLeft:5,paddingRight:5},gutter:16},a.a.createElement(Q.a,null,a.a.createElement(jt,{markets:o,placeholder:"Select market",customMarkets:i})),t?a.a.createElement(Q.a,null,a.a.createElement(Z.a,{content:a.a.createElement(ht,{address:t.publicKey.toBase58()}),placement:"bottomRight",title:"Market address",trigger:"click"},a.a.createElement(G.a,{style:{color:"#2abdd2"}}))):null),v))}function jt(e){var t,n,r=e.markets,i=e.placeholder,o=e.customMarkets,c=Ee(),l=c.market,s=c.setMarketAddress,u=function(e){return e.split("/")[0]},d=function(e){return e.split("/")[1]},f=null===(t=we(o).find((function(e){return(null===l||void 0===l?void 0:l.address)&&e.address.equals(l.address)})))||void 0===t||null===(n=t.address)||void 0===n?void 0:n.toBase58();return a.a.createElement(ee.a,{showSearch:!0,size:"large",style:{width:200},placeholder:i||"Select a market",optionFilterProp:"name",onSelect:function(e){s(e)},listHeight:400,value:f,filterOption:function(e,t){var n;return(null===t||void 0===t||null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))>=0}},o&&o.length>0&&a.a.createElement(kt,{label:"Custom"},o.map((function(e,t){var n=e.address,r=e.name;return a.a.createElement(gt,{value:n,key:Object(bt.a)(),name:r,style:{padding:"10px",backgroundColor:t%2===0?"rgb(39, 44, 61)":null}},a.a.createElement($.a,null,a.a.createElement(Q.a,{flex:"auto"},r),f!==n&&a.a.createElement(Q.a,null,a.a.createElement(pt.a,{onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}}))))}))),a.a.createElement(kt,{label:"Markets"},r.sort((function(e,t){return"USDT"===d(e.name)&&"USDT"!==d(t.name)?-1:"USDT"!==d(e.name)&&"USDT"===d(t.name)?1:0})).sort((function(e,t){return u(e.name)<u(t.name)?-1:u(e.name)>u(t.name)?1:0})).map((function(e,t){var n=e.address,r=e.name,i=e.deprecated;return a.a.createElement(gt,{value:n.toBase58(),key:Object(bt.a)(),name:r,style:{padding:"10px",backgroundColor:t%2===0?"rgb(39, 44, 61)":null}},r," ",i?" (Deprecated)":null)}))))}var xt=function(e){e.onChangeOrderRef;var t=e.onPrice,n=e.onSize;return a.a.createElement($.a,{style:{minHeight:"900px",flexWrap:"nowrap"}},a.a.createElement(Q.a,{flex:"360px",style:{height:"100%"}},a.a.createElement(at,{smallScreen:!1,onPrice:t,onSize:n}),a.a.createElement(dt,{smallScreen:!1})))},wt=function(e){e.onChangeOrderRef;var t=e.onPrice,n=e.onSize;return a.a.createElement(a.a.Fragment,null,a.a.createElement($.a,{style:{height:"900px"}},a.a.createElement(Q.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(at,{smallScreen:!0,depth:13,onPrice:t,onSize:n})),a.a.createElement(Q.a,{flex:"auto",style:{height:"100%",display:"flex"}},a.a.createElement(dt,{smallScreen:!0}))))},St=function(e){e.onChangeOrderRef;var t=e.onPrice,n=e.onSize;return a.a.createElement(a.a.Fragment,null,a.a.createElement($.a,{style:{height:"500px"}},a.a.createElement(Q.a,{xs:24,sm:12,style:{height:"100%",display:"flex"}},a.a.createElement(at,{smallScreen:!0,onPrice:t,onSize:n})),a.a.createElement(Q.a,{xs:24,sm:12,style:{height:"100%",display:"flex"}},a.a.createElement(dt,{smallScreen:!0}))))};function Ct(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(W.a,{basename:"/"},a.a.createElement(De,null,a.a.createElement(_.d,null,a.a.createElement(_.b,{exact:!0,path:"/"},a.a.createElement(_.a,{to:ke()})),a.a.createElement(_.b,{exact:!0,path:"/market/:marketAddress"},a.a.createElement(Ot,null))))))}function zt(){return a.a.createElement(r.Suspense,{fallback:function(){return a.a.createElement(D.a,{size:"large"})}},a.a.createElement(q,null),a.a.createElement(V,null,a.a.createElement(L,null,a.a.createElement(r.Suspense,{fallback:function(){return a.a.createElement(D.a,{size:"large"})}},a.a.createElement(Ct,null)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(zt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[260,1,2]]]);
//# sourceMappingURL=main.07f90c1e.chunk.js.map